{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/nwn2char.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-pagination\";\n\nfunction NWN2CharsListComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const size_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", size_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", size_r2, \" \");\n  }\n}\n\nfunction NWN2CharsListComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const nwn2char_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"nwn2chars/\", nwn2char_r3.id, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(nwn2char_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.gender);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.race);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.alignment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate8(\" \", nwn2char_r3.startclass, \" \", nwn2char_r3.lvlclass1, \"/ \", nwn2char_r3.class2, \" \", nwn2char_r3.lvlclass2, \"/ \", nwn2char_r3.class3, \" \", nwn2char_r3.lvlclass3, \"/ \", nwn2char_r3.class4, \" \", nwn2char_r3.lvlclass4, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.lvltotal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nwn2char_r3.layer);\n  }\n}\n\nconst _c0 = function (a0, a1, a2) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1,\n    totalItems: a2\n  };\n};\n\nexport let NWN2CharsListComponent = /*#__PURE__*/(() => {\n  class NWN2CharsListComponent {\n    constructor(nwn2charService) {\n      this.nwn2charService = nwn2charService;\n      this.nwn2chars = [];\n      this.currentIndex = -1;\n      this.name = '';\n      this.race = '';\n      this.page = 1;\n      this.count = 0;\n      this.pageSize = 12;\n      this.pageSizes = [12, 18, 24];\n    }\n\n    ngOnInit() {\n      this.retrieveNWN2Chars();\n    }\n\n    getRequestParams(searchTitle, page, pageSize) {\n      // tslint:disable-next-line:prefer-const\n      let params = {};\n\n      if (searchTitle) {\n        params[`name`] = searchTitle;\n      }\n\n      if (page) {\n        params[`page`] = page - 1;\n      }\n\n      if (pageSize) {\n        params[`size`] = pageSize;\n      }\n\n      return params;\n    }\n\n    retrieveNWN2Chars() {\n      const params = this.getRequestParams(this.name, this.page, this.pageSize);\n      this.nwn2charService.getAll(params).subscribe(response => {\n        const {\n          nwn2chars,\n          totalItems\n        } = response;\n        this.nwn2chars = nwn2chars;\n        this.count = totalItems;\n        console.log(response);\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    handlePageChange(event) {\n      this.page = event;\n      this.retrieveNWN2Chars();\n    }\n\n    handlePageSizeChange(event) {\n      this.pageSize = event.target.value;\n      this.page = 1;\n      this.retrieveNWN2Chars();\n    }\n\n    refreshList() {\n      this.retrieveNWN2Chars();\n      this.currentNWN2Char = undefined;\n      this.currentIndex = -1;\n    }\n\n    setActiveNWN2Char(nwn2char, index) {\n      this.currentNWN2Char = nwn2char;\n      this.currentIndex = index;\n    }\n\n    removeAllNWN2Chars() {\n      this.nwn2charService.deleteAll().subscribe(response => {\n        console.log(response);\n        this.refreshList();\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    searchTitle() {\n      this.nwn2charService.findByTitle(this.name).subscribe(data => {\n        this.nwn2chars = data;\n        console.log(data);\n      }, error => {\n        console.log(error);\n      });\n    }\n\n  }\n\n  NWN2CharsListComponent.ɵfac = function NWN2CharsListComponent_Factory(t) {\n    return new (t || NWN2CharsListComponent)(i0.ɵɵdirectiveInject(i1.NWN2CharService));\n  };\n\n  NWN2CharsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NWN2CharsListComponent,\n    selectors: [[\"app-nwn2chars-list\"]],\n    decls: 39,\n    vars: 10,\n    consts: [[1, \"row\"], [1, \"col-md-12\"], [1, \"col-md-2\"], [1, \"form-select\", 3, \"change\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-10\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\"], [\"previousLabel\", \"Prev\", \"nextLabel\", \"Next\", 3, \"responsive\", \"pageChange\"], [3, \"ngValue\"], [1, \"link-info\", 3, \"href\"]],\n    template: function NWN2CharsListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\");\n        i0.ɵɵtext(3, \"NWN2 Chars List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 0)(5, \"div\", 2);\n        i0.ɵɵtext(6, \" Items per Page: \");\n        i0.ɵɵelementStart(7, \"select\", 3);\n        i0.ɵɵlistener(\"change\", function NWN2CharsListComponent_Template_select_change_7_listener($event) {\n          return ctx.handlePageSizeChange($event);\n        });\n        i0.ɵɵtemplate(8, NWN2CharsListComponent_option_8_Template, 2, 2, \"option\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵtext(10, \" \\u00A0 \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 6)(12, \"table\", 7)(13, \"thead\")(14, \"tr\")(15, \"th\", 8);\n        i0.ɵɵtext(16, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\", 8);\n        i0.ɵɵtext(18, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\", 8);\n        i0.ɵɵtext(20, \"Gender\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 8);\n        i0.ɵɵtext(22, \"Race\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 8);\n        i0.ɵɵtext(24, \"Align\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 8);\n        i0.ɵɵtext(26, \"Classes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 8);\n        i0.ɵɵtext(28, \"LvlTot\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\", 8);\n        i0.ɵɵtext(30, \"Layer\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"tbody\");\n        i0.ɵɵtemplate(32, NWN2CharsListComponent_tr_32_Template, 18, 16, \"tr\", 9);\n        i0.ɵɵpipe(33, \"paginate\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(34, \"div\", 0)(35, \"div\", 10)(36, \"pagination-controls\", 11);\n        i0.ɵɵlistener(\"pageChange\", function NWN2CharsListComponent_Template_pagination_controls_pageChange_36_listener($event) {\n          return ctx.handlePageChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 10);\n        i0.ɵɵtext(38, \"\\u00A0\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pageSizes);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(33, 3, ctx.nwn2chars, i0.ɵɵpureFunction3(6, _c0, ctx.pageSize, ctx.page, ctx.count)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"responsive\", true);\n      }\n    },\n    directives: [i2.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.PaginationControlsComponent],\n    pipes: [i4.PaginatePipe],\n    styles: [\".link-info[_ngcontent-%COMP%]{text-decoration:none}\"]\n  });\n  return NWN2CharsListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}